tag:
type: txt
help: Set ethernet interface
syntax:expression: exec " \
        if [ -z \"`ip link | grep eth | egrep -v 'eth[0-9]+[.]' | grep $VAR(@)`\" ]; then \
          echo Invalid ethernet interface [$VAR(@)]; \
          exit 1 ; \
        fi ; "
update:expression: "sudo ip link set $VAR(@) up" ; "Error enabling dev $VAR(@)"
update:expression: "${vyatta_sbindir}/vyatta-vtysh.pl -c \"configure terminal\" -c \"interface $VAR(@)\" \
          -c \"link-detect\"; "
delete:expression: "sudo ip link set $VAR(@) down" ; "Error disabling dev $VAR(@)"
allowed: for dev in /sys/class/net/*; 
         do if [[ -d $dev && -L $dev/device ]]
            then if [[ $(cat $dev/type) -eq 1 ]]
                 then echo -n ${dev##*/} " "
                 fi
            fi
         done
