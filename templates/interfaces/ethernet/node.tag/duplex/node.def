type: txt
help: Set the duplex mode for this interface
default: "auto"
syntax:expression: $VAR(@) in "auto", "half", "full"; "duplex must be auto, half or full"
commit:expression: exec "if [ x$VAR(@) != xauto ]; then \
                 if [ x$VAR(../speed/@) == xauto ]; then \
                    exit 1; \
                 fi; \
              else \
                 if [ x$VAR(../speed/@) != xauto ]; then \
                    exit 1; \
                 fi; \
              fi; " ; "if duplex is hardcoded, speed must also be hardcoded"
update:expression: "if [ x$VAR(@) != xauto ]; then \
           sudo ethtool -s $VAR(../@) speed $VAR(../speed/@) duplex $VAR(@) autoneg off; \
         else \
           sudo ethtool -s $VAR(../@) autoneg on; \
         fi; "
delete:expression: "sudo ethtool -s $VAR(../@) autoneg on"
comp_help:Possible completions:
  auto\t\tAuto negotiation
  half\t\tHalf duplex
  full\t\tFull duplex
